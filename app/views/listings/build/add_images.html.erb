 <div class="container mx-auto my-8 px-4">
  <div class="max-w-4xl mx-auto">
    <div class="flex justify-between items-center mb-4">
      <h1 class="h3">Add Listing Images</h1>
      <%= link_to 'Back', previous_wizard_path, class: "btn btn-link" %>
    </div>

    <div class="bg-white rounded shadow p-8">

 <%= form_for @listing do |form| %>
  <%= render "shared/error_messages", resource: form.object %>
  
 <div class="form-group">
      <!-- will be replaced by Uppy -->
      <%= form.label :listing_images, "Select photos" %>
      <%= form.file_field :listing_images,
        multiple: true,
        accept: ImageUploader::ALLOWED_TYPES.join(","),
        data: {
          upload_server: upload_server,
        } %>
    </div>

  <ul class="list-unstyled file-upload-list" id="album-photo-list">
    <%= form.fields_for :listing_images do |li| %>
      <%= render partial: "listings/image", locals: { image: li.object, f: li } %>
    <% end %>
  </ul>

   <div class="form-group flex justify-between">
    <%= form.button class: "btn btn-primary" %>

    <% if form.object.persisted? %>
      <%= link_to 'Delete', form.object, class: "btn btn-danger outline", method: :delete, data: { remote: true, confirm: "Are you sure?" } %>
    <% end %>
  </div>

<% end %>


    </div>
  </div>
</div>